<img src="img/loading.gif" alt="Loading..." ng-show="vm.showLoadingGif"
     class="loading-spinner">
<div class="row">
    <div class="container">
        <div class="row">
            <div class="col-md-10 col-md-push-1">
                <h2>Collections</h2>
                <hr>
                <p>Here you can filter collections for unsuitable data, just click on the X icon that appears above
                    every image in order to have it removed. You can also delete an entire collection and create a new
                    one. Creating a new collection, you have to specify the search query for the search engine, as well.
                </p>
            </div>
            <div class="col-md-10 col-md-push-1">
                <div ng-repeat="collection in vm.collections">
                    <div class="collection-border">
                        <h3>
                            <span ng-click="vm.collapsed[collection.name] = !vm.collapsed[collection.name]">
                            <span ng-if="vm.collapsed[collection.name]"
                                  class="glyphicon glyphicon-chevron-right"></span>
                                <span ng-if="!vm.collapsed[collection.name]"
                                      class="glyphicon glyphicon-chevron-down"></span>
                                {{collection.name}}
                            </span>
                            <button class="btn btn-danger pull-right" ng-click="vm.deleteCollection(collection.name)">
                                Delete collection
                            </button>
                        </h3>


                    </div>
                    <div class="collection-body" ng-if="!vm.collapsed[collection.name]">
                        <div ng-repeat="item in collection.items" class="col-md-4 collection-item">
                            <img ng-click="vm.removeImage(item, collection.name)" src="/img/x_image.png"
                                 class="remove-image"
                                 alt="Remove image">
                            <img ng-src="{{vm.getImage(item)}}">
                        </div>
                    </div>
                    <br>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-md-5 col-md-push-1">
                <h2>Create new collection</h2>
                <hr>
                <form class="form" role="form" ng-submit="vm.createCollection()">
                    <div class="form-group">
                        <label for="email">Collection name:</label>
                        <input type="text" ng-model="vm.formOptions.collectionName" class="form-control" id="email">
                    </div>
                    <div class="form-group">
                        <label for="pwd">Query:</label>
                        <input type="text" ng-model="vm.formOptions.query" class="form-control" id="pwd">
                    </div>
                    <div class="form-group">
                        <label for="nritems">Number of results:</label>
                        <input id="nritems" ng-model="vm.formOptions.numberOfResults" class="form-control"
                               type="number">
                    </div>
                    <button type="submit" class="btn btn-primary">Create</button>
                </form>
            </div>
        </div>
        <div class="row">
            <hr>
            <div class="col-md-10 col-md-push-1">
                <div style="display: inline" class="pull-right">
                    <a href="#/build_phase_2" class="btn btn-default button-link">Next step <span
                            class="glyphicon glyphicon-arrow-right"></span></a>
                </div>
                <div style="display: inline" class="pull-left">
                    <a href="#/build" class="btn btn-default button-link"> <span
                            class="glyphicon glyphicon-arrow-left"></span> Previous step</a>
                </div>
            </div>
        </div>
    </div>
</div>
</div>
